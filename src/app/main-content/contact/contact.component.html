<section id="contact">
    <div class="content">
        <h3>{{'contact.contact' | translate }}</h3>

        <div class="contact-container">
            <div class="contact-text">
                <h4>{{'contact.problem' | translate }}</h4>
                <p>{{'contact.drop-message' | translate }}</p>
                <p>{{'contact.hear' | translate }}</p>
            </div>


            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
                <div class="input-fields">
                    <div class="input-wrapper">
                        <input formControlName="name" type="text" placeholder="{{'contact.your-name' | translate }}"
                            name="name">
                        <div
                            [ngClass]="{'alert-transparent': contactForm.controls['name'].valid || contactForm.controls['name'].pristine, 'alert-visible': !contactForm.controls['name'].valid && contactForm.controls['name'].touched && contactForm.controls['name'].errors?.['required']}">
                            {{ 'form.name' | translate }}
                        </div>
                    </div>
                    <div class="input-wrapper">
                        <input formControlName="email" type="email" placeholder="{{'contact.your-email' | translate }}"
                            name="email">
                        <ng-container>
                            <div class="alert-transparent">placeholder</div>
                            <div *ngIf="contactForm.controls['email'].errors?.['required'] && (contactForm.controls['email'].touched)"
                                class="alert-visible" style="margin-bottom: -20.5px;">
                                {{ 'form.email' | translate }}
                            </div>
                            <div *ngIf="contactForm.controls['email'].errors?.['pattern'] && !contactForm.controls['email'].errors?.['required'] && (contactForm.controls['email'].touched)"
                                class="alert-visible" style="margin-bottom: -20.5px;">
                                {{ 'form.format' | translate }}
                            </div>
                        </ng-container>

                    </div>
                    <div class="input-wrapper">
                        <textarea formControlName="message" rows="6"
                            placeholder="{{'contact.your-message' | translate }}" name="message"></textarea>
                        <div
                            [ngClass]="{'alert-transparent': contactForm.controls['message'].valid || contactForm.controls['message'].pristine, 'alert-visible': !contactForm.controls['message'].valid && contactForm.controls['message'].touched && contactForm.controls['message'].errors?.['required']}">
                            {{ 'form.message' | translate }}
                        </div>
                    </div>
                </div>
                <div class="checkbox-wrapper">
                    <input type="checkbox" formControlName="privacyPolicy">
                    <p>{{ 'contact.i-have-read' | translate }}
                        <a (click)="openPrivacyPolicy()">{{ 'contact.link' | translate }}</a>
                        {{ 'contact.agree' | translate }}
                    </p>
                </div>
                <div
                    [ngClass]="{'privacy-alert-transparent': contactForm.controls['privacyPolicy'].valid || contactForm.controls['privacyPolicy'].pristine, 'privacy-alert-visible': !contactForm.controls['privacyPolicy'].valid && !contactForm.controls['privacyPolicy'].pristine && contactForm.controls['privacyPolicy'].errors?.['required']}">
                    {{ 'form.privacy' | translate }}
                </div>
                <button type="submit" class="contact-btn"
                    [disabled]="contactForm.invalid" (click)="sendEmail(contactForm.controls['name'].value, contactForm.controls['email'].value, contactForm.controls['message'].value)">{{ 'contact.button' | translate }}</button>
            </form>

        </div>

        <div class="navigation-top">
            <a href="#home">
                <div class="arrow"></div>
            </a>
        </div>
    </div>
</section>